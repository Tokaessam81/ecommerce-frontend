<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="fw-bold text-center flex-grow-1">Products</h2>
    
  </div>

  <div class="products-container">
    <div class="product-card" *ngFor="let p of products$ | async">
      <div [routerLink]="['/products', p.id]" class="badge">View</div>

      <img
        [src]="'https://mecommerce.runasp.net/' + p.imagePath"
        (error)="handleImageError($event)"
        alt="{{p.name}}"
        class="product-img"
      />

      <div class="product-info">
        <p class="category">{{ p.category }}</p>
        <h5 class="title">{{ p.name }}</h5>
        <p class="price">EGP {{ p.price | number:'1.0-2' }}</p>
        <button class="btn btn-success w-100 mb-2" (click)="addToCart(p)">
          <i class="bi bi-cart-plus"></i> Add to Cart
        </button>
        <a [routerLink]="['/update-product', p.id]" class="btn btn-outline-primary w-100 mb-2">
          <i class="bi bi-pencil-square"></i> Update
        </a>
        <a [routerLink]="['/delete-product', p.id]" class="btn btn-outline-danger w-100">
          <i class="bi bi-trash"></i> Delete
        </a>
      </div>
    </div>
  </div>
</div>
